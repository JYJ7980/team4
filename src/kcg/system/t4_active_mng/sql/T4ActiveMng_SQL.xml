<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace='system.t4_active_mng'>
	<select id="findToDoList" parameterType="cmmnMap"
		resultType="cmmnMap">
SELECT cc.bn_cal_id, cc.cal_title, cc.cal_content, cc.cal_date, bn.manager_id
        FROM kcgbd.db4_bn_cal cc
        JOIN kcgbd.db4_bn_cal_mag bn ON cc.cal_id = bn.cal_id
        WHERE bn.manager_id = CAST(#{user_id} AS VARCHAR)
        AND SUBSTRING(cc.cal_date, 1, 4) = #{year}
		AND SUBSTRING(cc.cal_date, 6, 2) = #{month}
	</select>
</mapper>