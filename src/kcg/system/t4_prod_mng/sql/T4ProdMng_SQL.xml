<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="system.t4_prod_mng">
	<select id="getList" parameterType="cmmnMap"
		resultType="cmmnMap">
		/* system.t4_prod_mng.getList */
		SELECT product_id
		, product_name
		,
		product_type
		, possible_member
		, lowest_rate
		, highest_rate
		,
		rate_condition
		, lowest_date
		, highest_date
		, product_status
		, taxation
		,
		lowest_money
		, highest_money
		, product_sale_start_date
		,
		product_sale_end_date
		FROM kcgbd.db4_product_info
		WHERE 1=1
		<if test='product_id != null and product_id != ""'>
			and product_id = #{product_id}
		</if>
		<if test='product_name != null and product_name != ""'>
			and product_name like concat('%',#{product_name},'%')
		</if>
		<if test='possible_member != null and possible_member != ""'>
			and possible_member = #{possible_member}
		</if>
	</select>
	<insert id="insertInfo" parameterType="cmmnMap">
		/*
		system.t4_prod_mng.insertinfo */
		INSERT INTO kcgbd.db4_product_info(
		product_id
		, product_name
		, product_type
		, possible_member
		, lowest_rate
		, highest_rate
		, rate_condition
		, lowest_date
		, highest_date
		, product_status
		, taxation
		, lowest_money
		, highest_money
		, product_sale_start_date
		, product_sale_end_date
		)
		VALUES (
		#{product_id}
		, #{product_name}
		, #{product_type}
		, #{possible_member}
		, cast(#{lowest_rate} as int4)
		, cast(#{highest_rate} as int4)
		, #{rate_condition}
		, cast(#{lowest_date} as int4)
		, cast(#{highest_date} as int4)
		, cast(#{product_status} as int4)
		, #{taxation}
		, cast(#{lowest_money} as int4)
		, cast(#{highest_money} as int4)
		, cast(#{product_sale_start_date} as date)
		, cast(#{product_sale_end_date} as date)
		)
	</insert>
	<update id="updateInfo" parameterType="cmmnMap">
		/* system.t4_prod_mng.updateInfo */
		UPDATE kcgbd.db4_product_info
		SET product_name			= #{product_name}
		, product_type				= #{product_type}
		, possible_member			= #{possible_member}
		, lowest_rate				= cast(#{lowest_rate} as int4)
		, highest_rate				= cast(#{highest_rate} as int4)
		, rate_condition			= #{rate_condition}
		, lowest_date				= cast(#{lowest_date} as int4)
		, highest_date				= cast(#{highest_date} as int4)
		, product_status			= cast(#{product_status} as int4)
		, taxation					= #{taxation}
		, lowest_money				= cast(#{lowest_money} as int4)
		, highest_money				= cast(#{highest_money} as int4)
		, product_sale_start_date	= cast(#{product_sale_start_date} as date)
		, product_sale_end_date		= cast(#{product_sale_end_date} as date)
		WHERE product_id = #{product_id}
	</update>
	<delete id="deleteInfo" parameterType="cmmnMap">
		/*
		system.t4_prod_mng.deleteInfo */
		DELETE FROM kcgbd.db4_product_info
		WHERE product_id = #{product_id}
	</delete>
</mapper>